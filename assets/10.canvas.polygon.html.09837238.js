import{r as e,o,c,a as n,e as p,F as l,d as t,b as s}from"./app.147292e0.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";var r="/vuepress-2021/assets/canvas-regular-polygon.78a01355.png";const i={},k=t('<h1 id="canvas-\u7ED8\u5236\u591A\u8FB9\u5F62" tabindex="-1"><a class="header-anchor" href="#canvas-\u7ED8\u5236\u591A\u8FB9\u5F62" aria-hidden="true">#</a> Canvas \u7ED8\u5236\u591A\u8FB9\u5F62</h1><p>\u7EF4\u57FA\u767E\u79D1\u662F\u8FD9\u6837\u63CF\u8FF0\u7684\uFF1A<strong>\u6B63\u591A\u8FB9\u5F62\u662F\u6240\u6709\u89D2\u90FD\u76F8\u7B49\u3001\u5E76\u4E14\u6240\u6709\u8FB9\u90FD\u76F8\u7B49\u7684\u7B80\u5355\u591A\u8FB9\u5F62\uFF0C\u7B80\u5355\u591A\u8FB9\u5F62\u662F\u6307\u5728\u4EFB\u4F55\u4F4D\u7F6E\u90FD\u4E0D\u4E0E\u81EA\u8EAB\u76F8\u4EA4\u7684\u591A\u8FB9\u5F62\u3002</strong></p><p>\u6B63 <code>n</code> \u8FB9\u5F62\u6BCF\u4E2A\u5185\u89D2\u4E3A <code>(1 - 2 / n) * 180</code> \u6216\u8005\u8868\u793A\u4E3A <code>(n - 2) * 180 / n</code> \u89D2\u5EA6\u3002\u4E5F\u53EF\u4EE5\u7528\u5F27\u5EA6\u8868\u793A\u4E3A <code>(n - 2) * \u03C0 / n</code> \u6216\u8005 <code>(n - 2) / 2n</code>\u3002</p><p><img src="'+r+`" alt=""></p><p>\u4E0A\u56FE\u63CF\u8FF0\u4E86\u6B63\u591A\u8FB9\u5F62\u7684\u76F8\u5173\u5C5E\u6027\uFF1A</p><ul><li>\u6B63\u591A\u8FB9\u5F62\u7684\u4E2D\u5FC3\u70B9\u6B63\u597D\u662F\u4E00\u4E2A\u6B63\u591A\u8FB9\u5F62\u7684\u5916\u63A5\u5706\u7684\u5706\u5FC3</li><li>\u6B63\u591A\u8FB9\u5F62\u6BCF\u6761\u8FB9\u7684\u957F\u5EA6\u90FD\u76F8\u7B49\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 <code>x</code></li><li>\u6B63\u591A\u8FB9\u5F62\u7684\u6BCF\u4E2A\u5185\u89D2\u90FD\u76F8\u7B49\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 <code>\u03B2</code></li><li>\u6B63\u591A\u8FB9\u5F62\u7684\u6BCF\u4E2A\u5916\u89D2\u90FD\u76F8\u7B49\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 <code>\u03B1</code></li><li>\u6B63\u591A\u8FB9\u5F62\u7684\u4E2D\u5FC3\u89D2\u90FD\u76F8\u7B49\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 <code>\u03B8</code></li><li>\u6B63\u591A\u8FB9\u5F62\u7684\u4E2D\u5FC3\u70B9\u8DDD\u6B63\u591A\u8FB9\u5F62\u7684\u5185\u5207\u5706\u7684\u534A\u884C\u4E3A <code>r</code></li><li>\u6B63\u591A\u8FB9\u5F62\u7684\u9876\u70B9\u6570\u548C\u8FB9\u6570\u76F8\u7B49\uFF0C\u5E38\u7528 <code>n</code> \u8868\u793A</li><li>\u6B63\u591A\u8FB9\u5F62\u4E2D\u5FC3\u8DDD\u6B63\u591A\u8FB9\u5F62\u7684\u5916\u63A5\u5706\uFF08\u6216\u8005\u6B63\u591A\u8FB9\u4E2D\u5FC3\u70B9\u8DDD\u6B63\u591A\u8FB9\u5F62\u7684\u9876\u70B9\uFF09\u5C31\u662F\u6B63\u591A\u8FB9\u5F62\u5916\u63A5\u5706\u534A\u4E48\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 <code>R</code></li><li>\u6B63\u591A\u8FB9\u5F62\u4E2D\u5FC3\u70B9\u8DDD\u548C\u6BCF\u6761\u8FB9\u7684\u7AEF\u70B9\u6784\u6210\u4E00\u4E2A\u7B49\u8170\u4E09\u89D2\u5F62\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 A1\u3002\u8FD9\u4E2A\u4E09\u89D2\u5F62\u7684\u4E24\u6761\u8FB9\u957F\u5EA6\u76F8\u7B49\uFF0C\u521A\u597D\u662F\u6B63\u591A\u8FB9\u5F62\u5916\u63A5\u5706\u534A\u5F84 <code>R</code>\uFF0C\u800C\u8FD9\u4E2A\u4E09\u89D2\u5F62\u7684\u9AD8\uFF0C\u521A\u597D\u662F\u6B63\u591A\u8FB9\u5F62\u5185\u5207\u5706\u534A\u5F84 <code>r</code></li></ul><p>\u7ED8\u5236\u6B63\u591A\u8FB9\u5F62\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">drawPolygons</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> num<span class="token punctuation">,</span> radius</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token operator">-</span>w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span>h <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        angle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">360</span> <span class="token operator">/</span> num<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>
        actAngle <span class="token operator">=</span> angle <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

        x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>actAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>
        y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>actAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div>`,8),b={href:"https://codepen.io/airen/full/WpgWmw/",target:"_blank",rel:"noopener noreferrer"},m=s("Canvas \u7ED8\u5236\u6B63\u591A\u8FB9\u5F62 1"),d=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// @param {CanvasRenderingContext2D} ctx</span>
<span class="token comment">// @param {Number} xCenter \u4E2D\u5FC3\u5750\u6807X\u70B9</span>
<span class="token comment">// @param {Number} yCenter \u4E2D\u5FC3\u5750\u6807Y\u70B9</span>
<span class="token comment">// @param {Number} radius \u5916\u5706\u534A\u5F84</span>
<span class="token comment">// @param {Number} sides \u591A\u8FB9\u5F62\u8FB9\u6570</span>
<span class="token comment">// @param {Number} alpha \u89D2\u5EA6 \u9ED8\u8BA4270\u5EA6</span>
<span class="token comment">// @param {Boolean} arc \u662F\u5426\u663E\u793A\u5916\u5706</span>
<span class="token keyword">function</span> <span class="token function">drawPolygons</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> radAngle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">/</span> sides<span class="token punctuation">;</span>
    <span class="token keyword">var</span> radAlpha <span class="token operator">=</span> <span class="token punctuation">(</span>alpha <span class="token operator">!=</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> alpha <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span> <span class="token operator">:</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> xPos <span class="token operator">=</span> xCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>radAlpha<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>
    <span class="token keyword">var</span> yPos <span class="token operator">=</span> yCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>radAlpha<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> sides<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> rad <span class="token operator">=</span> radAngle <span class="token operator">*</span> i <span class="token operator">+</span> radAlpha<span class="token punctuation">;</span>
        <span class="token keyword">var</span> xPos <span class="token operator">=</span> xCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>rad<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>
        <span class="token keyword">var</span> yPos <span class="token operator">=</span> yCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>rad<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7ED8\u5236\u586B\u5145\u7684\u591A\u8FB9\u5F62</span>
<span class="token comment">// @param {CanvasRenderingContext2D} ctx</span>
<span class="token comment">// @param {Number} xCenter \u4E2D\u5FC3\u70B9X\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} yCenter \u4E2D\u5FC3\u70B9Y\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} radius \u5916\u5706\u534A\u5F84</span>
<span class="token comment">// @param {Number} sides \u591A\u8FB9\u5F62\u8FB9\u6570</span>
<span class="token comment">// @param {Number} alpha \u89D2\u5EA6 \u9ED8\u8BA4270\u5EA6</span>
<span class="token comment">// @param {Boolean} arc \u662F\u5426\u663E\u793A\u5916\u5706</span>
<span class="token keyword">function</span> <span class="token function">drawFillPolygon</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawPolygons</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u753B\u5916\u63A5\u5706</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7ED8\u5236\u63CF\u8FB9\u7684\u591A\u8FB9\u5F62</span>
<span class="token comment">// @param {CanvasRenderingContext2D} ctx</span>
<span class="token comment">// @param {Number} xCenter \u4E2D\u5FC3\u70B9X\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} yCenter \u4E2D\u5FC3\u70B9Y\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} radius \u5916\u5706\u534A\u5F84</span>
<span class="token comment">// @param {Number} sides \u591A\u8FB9\u5F62\u8FB9\u6570</span>
<span class="token comment">// @param {Number} alpha \u89D2\u5EA6 \u9ED8\u8BA4270\u5EA6</span>
<span class="token comment">// @param {Boolean} arc \u662F\u5426\u663E\u793A\u5916\u5706</span>
<span class="token keyword">function</span> <span class="token function">drawStrokePolygon</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawPolygons</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u753B\u5916\u63A5\u5706</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div>`,1),x=s("\u5BF9\u4E0A\u9762\u7684\u8FDB\u884C\u6269\u5C55\uFF1A"),f={href:"https://codepen.io/airen/full/YZJPBB/",target:"_blank",rel:"noopener noreferrer"},h=s("Canvas \u7ED8\u5236\u6B63\u591A\u8FB9\u5F62 2"),y=t(`<p>\u7ED8\u5236\u661F\u5F62\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// @param {CanvasRenderingContext2D} ctx</span>
<span class="token comment">// @param {Number} xCenter \u4E2D\u5FC3\u5750\u6807X\u70B9</span>
<span class="token comment">// @param {Number} yCenter \u4E2D\u5FC3\u5750\u6807Y\u70B9</span>
<span class="token comment">// @param {Number} radius \u5916\u5706\u534A\u5F84</span>
<span class="token comment">// @param {Number} sides \u591A\u8FB9\u5F62\u8FB9\u6570</span>
<span class="token comment">// @param {Number} sideIndent (0 ~ 1)</span>
<span class="token comment">// @param {Number} alpha \u89D2\u5EA6 \u9ED8\u8BA4270\u5EA6</span>
<span class="token comment">// @param {Boolean} arc \u662F\u5426\u663E\u793A\u5916\u5706</span>
<span class="token keyword">function</span> <span class="token function">drawStarPolygons</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> sideIndent<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> sideIndentRadius <span class="token operator">=</span> radius <span class="token operator">*</span> <span class="token punctuation">(</span>sideIndent <span class="token operator">||</span> <span class="token number">0.38</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> radAngle <span class="token operator">=</span> alpha <span class="token operator">?</span> alpha <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span> <span class="token operator">:</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> radAlpha <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">/</span> sides <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> xPos <span class="token operator">=</span> xCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>radAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>
    <span class="token keyword">var</span> yPos <span class="token operator">=</span> yCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>radAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> sides <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> rad <span class="token operator">=</span> radAlpha <span class="token operator">*</span> i <span class="token operator">+</span> radAngle<span class="token punctuation">;</span>
        <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> sideIndentRadius <span class="token operator">:</span> radius<span class="token punctuation">;</span>
        <span class="token keyword">var</span> xPos <span class="token operator">=</span> xCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>rad<span class="token punctuation">)</span> <span class="token operator">*</span> len<span class="token punctuation">;</span>
        <span class="token keyword">var</span> yPos <span class="token operator">=</span> yCenter <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>rad<span class="token punctuation">)</span> <span class="token operator">*</span> len<span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7ED8\u5236\u586B\u5145\u7684\u591A\u8FB9\u5F62</span>
<span class="token comment">// @param {CanvasRenderingContext2D} ctx</span>
<span class="token comment">// @param {Number} xCenter \u4E2D\u5FC3\u70B9X\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} yCenter \u4E2D\u5FC3\u70B9Y\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} radius \u5916\u5706\u534A\u5F84</span>
<span class="token comment">// @param {Number} sides \u591A\u8FB9\u5F62\u8FB9\u6570</span>
<span class="token comment">// @param {Number} sideIndent (0 ~ 1)</span>
<span class="token comment">// @param {Number} alpha \u89D2\u5EA6 \u9ED8\u8BA4270\u5EA6</span>
<span class="token comment">// @param {Boolean} arc \u662F\u5426\u663E\u793A\u5916\u5706</span>
<span class="token keyword">function</span> <span class="token function">drawFillStarPolygon</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> sideIndent<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawStarPolygons</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> sideIndent<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u753B\u5916\u63A5\u5706</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius <span class="token operator">*</span> sideIndent<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7ED8\u5236\u63CF\u8FB9\u7684\u591A\u8FB9\u5F62</span>
<span class="token comment">// @param {CanvasRenderingContext2D} ctx</span>
<span class="token comment">// @param {Number} xCenter \u4E2D\u5FC3\u70B9X\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} yCenter \u4E2D\u5FC3\u70B9Y\u5750\u6807\u70B9</span>
<span class="token comment">// @param {Number} radius \u5916\u5706\u534A\u5F84</span>
<span class="token comment">// @param {Number} sides \u591A\u8FB9\u5F62\u8FB9\u6570</span>
<span class="token comment">// @param {Number} sideIndent (0 ~ 1)</span>
<span class="token comment">// @param {Number} alpha \u89D2\u5EA6 \u9ED8\u8BA4270\u5EA6</span>
<span class="token comment">// @param {Boolean} arc \u662F\u5426\u663E\u793A\u5916\u5706</span>
<span class="token keyword">function</span> <span class="token function">drawStrokeStarPolygon</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> sideIndent<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawStarPolygons</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> sides<span class="token punctuation">,</span> sideIndent<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> arc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u753B\u5916\u63A5\u5706</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>xCenter<span class="token punctuation">,</span> yCenter<span class="token punctuation">,</span> radius <span class="token operator">*</span> sideIndent<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div>`,2),C={href:"https://codepen.io/airen/pen/zZmvrV",target:"_blank",rel:"noopener noreferrer"},v=s("Canvas \u7ED8\u5236\u661F\u5F62");function g(P,w){const a=e("ExternalLinkIcon");return o(),c(l,null,[k,n("p",null,[n("a",b,[m,p(a)])]),d,n("p",null,[x,n("a",f,[h,p(a)])]),y,n("p",null,[n("a",C,[v,p(a)])])],64)}var I=u(i,[["render",g]]);export{I as default};
